language: java
branches:
  only:
  - master
  - develop
install: true
jdk:
- oraclejdk8
cache:
  directories:
  - $HOME/.m2
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/setup-oracle-jdk6.sh
- $HOME/build-script/travis-ci/prepare_travis_settings.sh
- $HOME/build-script/travis-ci/build-nablarch.sh -m deploy -p ci,dev-deploy
- $HOME/build-script/travis-ci/upload-test-report.sh -p dev-deploy
notifications:
  slack:
    secure: knnhg3z2VH0je3aWgQrGeK3IROA3qa7c6BU4IcqSg6M+FB6AvPXGSLoYpTY25Qb4NNxxCgmVkC10mvHszI17fUTxKxEI3hhOulzDUQiSIPAQShesdjeMEWVro0McUNvkcx3RztGoREin5K2mjRXLSo780tm5+KboPEQSR8ILpbkAq9btk7qwA/O9z0iZh3OQP6E3W8xyd2wNN1LjrjHu7DUUDmvFAgFImoh38SamkmDG0TvW2nbaGMO74UrhFjWuc/eRazZL4Gmed7LsmsQDR8aQHYodyfngDT9Lr6EVtisbb/FjUOf11lWHSAdDj4+/K1HqdrifkugK0j1KyIEITjZ/myzZpM8HesnQuYiuAhR9q8R2kPNvghEK2JBQvzrjR4miZ3XR4HKKWU0bpWLqo2D6hDZdJdpVQb/ujSHPTn4gmyYwVnnbt47x7kBfrd5/ssdPzy1FKYvv+6QZziiUY1uag5woXU8JKTOYyDzs7K5kTgaap3QLHCF7rwP7INblzE8qYW0DeSNywAf6kIFJ2JBcTgJ+IzMuSAjfpUkapLNtsQ+E+wjdkNsDayQgUlllErMicbacOUvmHGYAcVXk3JJ7uLrjHv/YnzlF2ENCJRV6ZFxT89aOFBHPxPgKPijMzbLC4jKQ1PYdaq8qd3se5OBGpRYt/ynao1O2Swnlma8=
